<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="/stylesheets/style.css">
</head>
<body>

  <div id="hidden-profilePhoto">

    <div class="hidden-cont">

      <p>change profile photo</p>

      <div class="line blue">
        <form action="/profileupload" method="post" hidden enctype="multipart/form-data" id="imageUpload">
          <input type="file" name="profileImg">
        </form>
        <p class="uploadImg">upload photo</p>
      </div>
      <div class="line red">
        <p>Remove photo
          <form id="removePhoto" action="/removeProfileImg" method="post" hidden></form>
        </p>
      </div>
      <div class="line">
        
        <p class="cancel">cancel</p>
      </div>

    </div>
  </div>


  <div id="hidden-createPhoto">
    <div class="center-cont">
     <p>Create New Post</p>
     <form action="/uploadNewPost" method="post" enctype="multipart/form-data" class="postForm">
       <input type="file" name="new-post">
       <input type="text" name="discription" placeholder="description">
       <input type="submit" name="submit" placeholder="submit">
     </form>
     
    </div>
   </div>
    <header class="navbar">
        <div class="nav-wrapper">
            <img src="logo-removebg-preview.png" class="brand-img">
            <input type="text" class="search-box" placeholder="Search">
            <div class="nav-items">
                <img src="home.png.png" class="icon" alt="Home">
                <img src="messenger.png.png" class="icon" alt="Messenger">
                <img src="add.png.png" class="icon" alt="Add">
                
                <img src="heart.png.png" class="icon" alt="Like">
                <div class="icon user-profile">
                  <% if(pro[0].profileimage){ %>
                   
                    <img class="proimg" src="/images/uploads/<%= pro[0].profileimage %>">
                    <%   }else{ %>
                      
                      <!--  bhai kuch toh karna tha but abhi yaad ni aaraha -->
                      <img class="proimg" src="https://images.unsplash.com/photo-1705703479966-87b2dd277216?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxlZGl0b3JpYWwtZmVlZHwxM3x8fGVufDB8fHx8fA%3D%3D" alt="not showing">
              <%  } %>
                </div>
            </div>
        </div>
        <div class="left-container">
            <div class="home"><img src=home.png.png>Home</div>
            <div class="home2"><img src=fire.png>Trending</div>
            <div class="linee">---------------------------------------------</div>
            <div class="home3"><img src=info.png>About Trekify</div>
            <div class="home3"><img src=question.png>Help</div>
            <div class="home3"><img src=Hotel.png>Hotels</div>
            <div class="home3"><img src=airplane.png>Packages</div>
            <div class="home3"><img src=airplane1.png>Find a flight</div>
            <div class="home3 post"><img src=writing.png>Upload a post</div>
            <div class="home3 profile"><img src="airplane1.png">Upload a profile picture</div>
            <div class="home4"><img src=logout.png>Exit</div>
        </div>
        <!-- <div id="postModal" class="modal">
          <div class="modal-content">
            <input type="file" accept="image/*" id="imageInput" />
            <button onclick="uploadPost()">Upload</button>
            <span class="close" onclick="closePostModal()">&times;</span>
          </div>
        </div> -->
        <!-- <div id="profilePictureModal" class="modal">
          <div class="modal-content">
              <span class="close" onclick="closeProfilePictureModal()">&times;</span>
              <form id="profilePictureForm" enctype="multipart/form-data">
                  <input type="file" id="profilePictureInput" accept="image/*" name="profileImage">
                  <button type="button" onclick="uploadProfilePicture()">Upload</button>
              </form>
          </div>
        </div> -->

        
      </div>
      
        <div class="right-container">
            Hi                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
        </div>
        <div class="middle-container">
            <div class="banner">
              <img src="https://images.pexels.com/photos/19664604/pexels-photo-19664604/free-photo-of-portrait-of-man-playing-on-guitar-in-black-and-white.jpeg?auto=compress&cs=tinysrgb&w=600&lazy=load">
            </div>
            <div class="package-container">
             
              <div class="packages" onclick="redirectToPackageContainer()">
                <img class="bali" src="bali2.png.png">
            </div>
              <div class="packages">
                <img class="bali" src="chitkul.png.png">
              </div>
              <div class="packages">
                <img class="bali" src="nainital.png.png">
              </div>
              <div class="packages">
                <img class="bali" src="laddakh.png">
              </div>
              <div class="packages">
                <img class="bali" src="gwalior.png">
              </div>
              <div class="packages">
                <img class="bali" src="solan.png.png">
              </div>
              <div class="packages">
                <img class="bali" src="shimla.png">
              </div>
              
            </div>
            <div class="main-container">



              <% post.forEach((e)=>{ %>
                <!-- <img src="/images/uploads/<%= e.posts %>" alt="not showing"> -->
                
                            <div class="post-container">
                              
                              <div class="username">
                                <div class="profile-picture"><img src="profile-picture.jpeg">
                                </div>
                                
                                @trekify
                              </div>
                              <div class="post">
                                <!-- <img src="https://images.pexels.com/photos/9056224/pexels-photo-9056224.jpeg?auto=compress&cs=tinysrgb&w=600&lazy=load" alt="not showing"> -->
                                <img src="/images/uploads/<%= e.image %>" alt="not showing">
                              </div>
                              <div class="post-grid">
                                <i onclick="toggleLike(this.parentElement.parentElement)" class="fa fa-thumbs-up"></i>
                                <i class="fa-regular fa-comment"></i>
                                <i class="fa-regular fa-paper-plane"></i>
                                <p class="likeCount"> Liked by 0 others</p>
                                <p> <strong class="text"> @trekify:</strong> <%= e.imageText %></p>
                              </div>
                            
                            </div>
              <% }) %>
         
                
            </div>
        </div>
     
    </header>
   <script>
    document.querySelector(".post").addEventListener("click",()=>{
      console.log("clicked")
      document.querySelector("#hidden-createPhoto").style.display = "flex"  
    })

    window.addEventListener("click",(e)=>{
      const docs =  document.querySelector("#hidden-profilePhoto");
      const docs2 =  document.querySelector("#hidden-createPhoto");
      console.log(docs2)
      if(e.target === docs)
      docs.style.display = "none"
    
      if(e.target === docs2)
      docs2.style.display = "none"
      })

      document.querySelector(".profile").addEventListener("click",()=>{
        document.querySelector("#hidden-profilePhoto").style.display ="flex"
      })
      document.querySelector(".cancel").addEventListener("click",()=>{
        document.querySelector("#hidden-profilePhoto").style.display ="none"
      })
      document.querySelector(".uploadImg").addEventListener("click",()=>{
        document.querySelector("#imageUpload input").click()
      })
    
      document.querySelector("#imageUpload input").addEventListener("change",()=>{
        document.querySelector("#imageUpload").submit();
      })
   </script>
   
   
  </body>
</html>